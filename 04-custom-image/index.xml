<?xml version="1.0" encoding="utf-8" standalone="yes"?><rss version="2.0" xmlns:atom="http://www.w3.org/2005/Atom"><channel><title>Custom Image on HPC on IBM Cloud Tutorials</title><link>https://ibm.github.io/ibmcloud-hpc-tutorials/04-custom-image/</link><description>Recent content in Custom Image on HPC on IBM Cloud Tutorials</description><generator>Hugo -- gohugo.io</generator><language>en-US</language><lastBuildDate>Mon, 24 Jan 2022 15:49:49 -0500</lastBuildDate><atom:link href="https://ibm.github.io/ibmcloud-hpc-tutorials/04-custom-image/index.xml" rel="self" type="application/rss+xml"/><item><title>Create VSI From Default LSF Image</title><link>https://ibm.github.io/ibmcloud-hpc-tutorials/04-custom-image/01-create-vsi-from-default-lsf-image/</link><pubDate>Mon, 24 Jan 2022 15:54:40 -0500</pubDate><guid>https://ibm.github.io/ibmcloud-hpc-tutorials/04-custom-image/01-create-vsi-from-default-lsf-image/</guid><description>Start IBM Cloud Shell from the browser (Insert image here)
In the Cloud Shell, follow the next steps to create a VSI (assuming bash):
Assign values to environment variables for commands later # Replace CLUSTER_PREFIX with the one you used to create the existing LSF cluster # Replace KEY_NAME, RESOURCE_GROUP_NAME, ZONE_NAME and CLUSTER_IMG_ID as needed CLUSTER_PREFIX=&amp;lt;cluster-name-prefix&amp;gt; CLUSTER_VPC_NAME=${CLUSTER_PREFIX}-vpc CLUSTER_SUBNET_NAME=${CLUSTER_PREFIX}-subnet CLUSTER_IMG_ID=r006-68478a2e-4abc-4bfb-9e4f-a6fb3b9b235f CLUSTER_SG_NAME=${CLUSTER_PREFIX}-sg CUSTOM_IMG_NAME=${CLUSTER_PREFIX}-custom-img CUSTOM_IMG_VSI_NAME=${CUSTOM_IMG_NAME}-vsi ZONE_NAME=us-south-3 PROFILE_NAME=bx2-2x8 KEY_NAME=ccyang-pub-key RESOURCE_GROUP_NAME=Default (explain how to get the CLUSTER_IMG_ID)</description></item><item><title>Customize Software on the VSI</title><link>https://ibm.github.io/ibmcloud-hpc-tutorials/04-custom-image/02-customize-software-on-the-vsi/</link><pubDate>Mon, 24 Jan 2022 15:55:41 -0500</pubDate><guid>https://ibm.github.io/ibmcloud-hpc-tutorials/04-custom-image/02-customize-software-on-the-vsi/</guid><description>From your local machine, login to the newly created VSI by running the following command (Note: After the VSI is in running state you might still need to wait a few minutes before you can connect to it via ssh ):
ssh -J root@&amp;lt;jump-node-ip&amp;gt; root@&amp;lt;new-instance-ip&amp;gt; (Explain how to get the jump node IP)
Now customize the software on the VSI boot volume.</description></item><item><title>Create Image From Customized Volume</title><link>https://ibm.github.io/ibmcloud-hpc-tutorials/04-custom-image/03-create-image-from-customized-volume/</link><pubDate>Mon, 24 Jan 2022 15:57:51 -0500</pubDate><guid>https://ibm.github.io/ibmcloud-hpc-tutorials/04-custom-image/03-create-image-from-customized-volume/</guid><description>Now, we go back to the Cloud Shell for creating the new custom image.
Stop the VSI ibmcloud is instance-stop ${CUSTOM_IMG_VSI_NAME} Submit the request to create the custom image # Store Volume ID in a environment variable SOURCE_VOLUME_ID=$(ibmcloud is instance ${CUSTOM_IMG_VSI_NAME} --output JSON | jq -r .volume_attachments[0].volume.id) # Submit request to create image from the volume ibmcloud is image-create ${CUSTOM_IMG_NAME} --source-volume ${SOURCE_VOLUME_ID} This step can take some time depending on the image size.</description></item><item><title>Create Cluster From Custom Image</title><link>https://ibm.github.io/ibmcloud-hpc-tutorials/04-custom-image/04-create-cluster-from-custom-image/</link><pubDate>Mon, 24 Jan 2022 15:58:39 -0500</pubDate><guid>https://ibm.github.io/ibmcloud-hpc-tutorials/04-custom-image/04-create-cluster-from-custom-image/</guid><description>(To be completed when the custom image feature is fixed)</description></item></channel></rss>